{
    "type": [
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        3
    ],
    "data": [
        "> ",
        "?highcharter::highchart()",
        "> ",
        "?leafletCN::amap()",
        "> ",
        "iris %>% ",
        "+ ",
        "  select_if(is.numeric)",
        "    Sepal.Length Sepal.Width Petal.Length Petal.Width\n1            5.1         3.5          1.4         0.2\n2            4.9         3.0          1.4         0.2\n3            4.7         3.2          1.3         0.2\n4            4.6         3.1          1.5         0.2\n5            5.0         3.6          1.4         0.2\n6            5.4         3.9          1.7         0.4\n7            4.6         3.4          1.4         0.3\n8            5.0         3.4          1.5         0.2\n9            4.4         2.9",
        "          1.4         0.2\n10           4.9         3.1          1.5         0.1\n11           5.4         3.7          1.5         0.2\n12           4.8         3.4          1.6         0.2\n13           4.8         3.0          1.4         0.1\n14           4.3         3.0          1.1         0.1\n15           5.8         4.0          1.2         0.2\n16           5.7         4.4          1.5         0.4\n17           5.4         3.9          1.3         0.4\n18           5.1         3.5          1.4         0.3\n19 ",
        "          5.7         3.8          1.7         0.3\n20           5.1         3.8          1.5         0.3\n21           5.4         3.4          1.7         0.2\n22           5.1         3.7          1.5         0.4\n23           4.6         3.6          1.0         0.2\n24           5.1         3.3          1.7         0.5\n25           4.8         3.4          1.9         0.2\n26           5.0         3.0          1.6         0.2\n27           5.0         3.4          1.6         0.4\n28           5.2         3.5          1.5",
        "         0.2\n29           5.2         3.4          1.4         0.2\n30           4.7         3.2          1.6         0.2\n31           4.8         3.1          1.6         0.2\n32           5.4         3.4          1.5         0.4\n33           5.2         4.1          1.5         0.1\n34           5.5         4.2          1.4         0.2\n35           4.9         3.1          1.5         0.2\n36           5.0         3.2          1.2         0.2\n37           5.5         3.5          1.3         0.2\n38           4.9",
        "         3.6          1.4         0.1\n39           4.4         3.0          1.3         0.2\n40           5.1         3.4          1.5         0.2\n41           5.0         3.5          1.3         0.3\n42           4.5         2.3          1.3         0.3\n43           4.4         3.2          1.3         0.2\n44           5.0         3.5          1.6         0.6\n45           5.1         3.8          1.9         0.4\n46           4.8         3.0          1.4         0.3\n47           5.1         3.8          1.6         0.2",
        "\n48           4.6         3.2          1.4         0.2\n49           5.3         3.7          1.5         0.2\n50           5.0         3.3          1.4         0.2\n51           7.0         3.2          4.7         1.4\n52           6.4         3.2          4.5         1.5\n53           6.9         3.1          4.9         1.5\n54           5.5         2.3          4.0         1.3\n55           6.5         2.8          4.6         1.5\n56           5.7         2.8          4.5         1.3\n57           6.3         3.3",
        "          4.7         1.6\n58           4.9         2.4          3.3         1.0\n59           6.6         2.9          4.6         1.3\n60           5.2         2.7          3.9         1.4\n61           5.0         2.0          3.5         1.0\n62           5.9         3.0          4.2         1.5\n63           6.0         2.2          4.0         1.0\n64           6.1         2.9          4.7         1.4\n65           5.6         2.9          3.6         1.3\n66           6.7         3.1          4.4         1.4\n67 ",
        "          5.6         3.0          4.5         1.5\n68           5.8         2.7          4.1         1.0\n69           6.2         2.2          4.5         1.5\n70           5.6         2.5          3.9         1.1\n71           5.9         3.2          4.8         1.8\n72           6.1         2.8          4.0         1.3\n73           6.3         2.5          4.9         1.5\n74           6.1         2.8          4.7         1.2\n75           6.4         2.9          4.3         1.3\n76           6.6         3.0          4.4",
        "         1.4\n77           6.8         2.8          4.8         1.4\n78           6.7         3.0          5.0         1.7\n79           6.0         2.9          4.5         1.5\n80           5.7         2.6          3.5         1.0\n81           5.5         2.4          3.8         1.1\n82           5.5         2.4          3.7         1.0\n83           5.8         2.7          3.9         1.2\n84           6.0         2.7          5.1         1.6\n85           5.4         3.0          4.5         1.5\n86           6.0",
        "         3.4          4.5         1.6\n87           6.7         3.1          4.7         1.5\n88           6.3         2.3          4.4         1.3\n89           5.6         3.0          4.1         1.3\n90           5.5         2.5          4.0         1.3\n91           5.5         2.6          4.4         1.2\n92           6.1         3.0          4.6         1.4\n93           5.8         2.6          4.0         1.2\n94           5.0         2.3          3.3         1.0\n95           5.6         2.7          4.2         1.3",
        "\n96           5.7         3.0          4.2         1.2\n97           5.7         2.9          4.2         1.3\n98           6.2         2.9          4.3         1.3\n99           5.1         2.5          3.0         1.1\n100          5.7         2.8          4.1         1.3\n101          6.3         3.3          6.0         2.5\n102          5.8         2.7          5.1         1.9\n103          7.1         3.0          5.9         2.1\n104          6.3         2.9          5.6         1.8\n105          6.5         3.0",
        "          5.8         2.2\n106          7.6         3.0          6.6         2.1\n107          4.9         2.5          4.5         1.7\n108          7.3         2.9          6.3         1.8\n109          6.7         2.5          5.8         1.8\n110          7.2         3.6          6.1         2.5\n111          6.5         3.2          5.1         2.0\n112          6.4         2.7          5.3         1.9\n113          6.8         3.0          5.5         2.1\n114          5.7         2.5          5.0         2.0\n115",
        "          5.8         2.8          5.1         2.4\n116          6.4         3.2          5.3         2.3\n117          6.5         3.0          5.5         1.8\n118          7.7         3.8          6.7         2.2\n119          7.7         2.6          6.9         2.3\n120          6.0         2.2          5.0         1.5\n121          6.9         3.2          5.7         2.3\n122          5.6         2.8          4.9         2.0\n123          7.7         2.8          6.7         2.0\n124          6.3         2.7          4.9",
        "         1.8\n125          6.7         3.3          5.7         2.1\n126          7.2         3.2          6.0         1.8\n127          6.2         2.8          4.8         1.8\n128          6.1         3.0          4.9         1.8\n129          6.4         2.8          5.6         2.1\n130          7.2         3.0          5.8         1.6\n131          7.4         2.8          6.1         1.9\n132          7.9         3.8          6.4         2.0\n133          6.4         2.8          5.6         2.2\n134          6.3",
        "         2.8          5.1         1.5\n135          6.1         2.6          5.6         1.4\n136          7.7         3.0          6.1         2.3\n137          6.3         3.4          5.6         2.4\n138          6.4         3.1          5.5         1.8\n139          6.0         3.0          4.8         1.8\n140          6.9         3.1          5.4         2.1\n141          6.7         3.1          5.6         2.4\n142          6.9         3.1          5.1         2.3\n143          5.8         2.7          5.1         1.9",
        "\n144          6.8         3.2          5.9         2.3\n145          6.7         3.3          5.7         2.5\n146          6.7         3.0          5.2         2.3\n147          6.3         2.5          5.0         1.9\n148          6.5         3.0          5.2         2.0\n149          6.2         3.4          5.4         2.3\n150          5.9         3.0          5.1         1.8\n",
        "> ",
        "iris %>% ",
        "+ ",
        "  select_if(is.numeric) %>% ",
        "+ ",
        "  mutate_all(function(x) x - mean(x))",
        "    Sepal.Length Sepal.Width Petal.Length   Petal.Width\n1    -0.74333333  0.44266667       -2.358 -0.9993333333\n2    -0.94333333 -0.05733333       -2.358 -0.9993333333\n3    -1.14333333  0.14266667       -2.458 -0.9993333333\n4    -1.24333333  0.04266667       -2.258 -0.9993333333\n5    -0.84333333  0.54266667       -2.358 -0.9993333333\n6    -0.44333333  0.84266667       -2.058 -0.7993333333\n7    -1.24333333  0.34266667       -2.358 -0.8993333333\n8    -0.84333333  0.34266667       -2.258 -0.9993333333\n9    -1.44333333",
        " -0.15733333       -2.358 -0.9993333333\n10   -0.94333333  0.04266667       -2.258 -1.0993333333\n11   -0.44333333  0.64266667       -2.258 -0.9993333333\n12   -1.04333333  0.34266667       -2.158 -0.9993333333\n13   -1.04333333 -0.05733333       -2.358 -1.0993333333\n14   -1.54333333 -0.05733333       -2.658 -1.0993333333\n15   -0.04333333  0.94266667       -2.558 -0.9993333333\n16   -0.14333333  1.34266667       -2.258 -0.7993333333\n17   -0.44333333  0.84266667       -2.458 -0.7993333333\n18   -0.74333333  0.44266667",
        "       -2.358 -0.8993333333\n19   -0.14333333  0.74266667       -2.058 -0.8993333333\n20   -0.74333333  0.74266667       -2.258 -0.8993333333\n21   -0.44333333  0.34266667       -2.058 -0.9993333333\n22   -0.74333333  0.64266667       -2.258 -0.7993333333\n23   -1.24333333  0.54266667       -2.758 -0.9993333333\n24   -0.74333333  0.24266667       -2.058 -0.6993333333\n25   -1.04333333  0.34266667       -1.858 -0.9993333333\n26   -0.84333333 -0.05733333       -2.158 -0.9993333333\n27   -0.84333333  0.34266667       -2.158",
        " -0.7993333333\n28   -0.64333333  0.44266667       -2.258 -0.9993333333\n29   -0.64333333  0.34266667       -2.358 -0.9993333333\n30   -1.14333333  0.14266667       -2.158 -0.9993333333\n31   -1.04333333  0.04266667       -2.158 -0.9993333333\n32   -0.44333333  0.34266667       -2.258 -0.7993333333\n33   -0.64333333  1.04266667       -2.258 -1.0993333333\n34   -0.34333333  1.14266667       -2.358 -0.9993333333\n35   -0.94333333  0.04266667       -2.258 -0.9993333333\n36   -0.84333333  0.14266667       -2.558 -0.9993333333",
        "\n37   -0.34333333  0.44266667       -2.458 -0.9993333333\n38   -0.94333333  0.54266667       -2.358 -1.0993333333\n39   -1.44333333 -0.05733333       -2.458 -0.9993333333\n40   -0.74333333  0.34266667       -2.258 -0.9993333333\n41   -0.84333333  0.44266667       -2.458 -0.8993333333\n42   -1.34333333 -0.75733333       -2.458 -0.8993333333\n43   -1.44333333  0.14266667       -2.458 -0.9993333333\n44   -0.84333333  0.44266667       -2.158 -0.5993333333\n45   -0.74333333  0.74266667       -1.858 -0.7993333333\n46   -1.04333333",
        " -0.05733333       -2.358 -0.8993333333\n47   -0.74333333  0.74266667       -2.158 -0.9993333333\n48   -1.24333333  0.14266667       -2.358 -0.9993333333\n49   -0.54333333  0.64266667       -2.258 -0.9993333333\n50   -0.84333333  0.24266667       -2.358 -0.9993333333\n51    1.15666667  0.14266667        0.942  0.2006666667\n52    0.55666667  0.14266667        0.742  0.3006666667\n53    1.05666667  0.04266667        1.142  0.3006666667\n54   -0.34333333 -0.75733333        0.242  0.1006666667\n55    0.65666667 -0.25733333",
        "        0.842  0.3006666667\n56   -0.14333333 -0.25733333        0.742  0.1006666667\n57    0.45666667  0.24266667        0.942  0.4006666667\n58   -0.94333333 -0.65733333       -0.458 -0.1993333333\n59    0.75666667 -0.15733333        0.842  0.1006666667\n60   -0.64333333 -0.35733333        0.142  0.2006666667\n61   -0.84333333 -1.05733333       -0.258 -0.1993333333\n62    0.05666667 -0.05733333        0.442  0.3006666667\n63    0.15666667 -0.85733333        0.242 -0.1993333333\n64    0.25666667 -0.15733333        0.942",
        "  0.2006666667\n65   -0.24333333 -0.15733333       -0.158  0.1006666667\n66    0.85666667  0.04266667        0.642  0.2006666667\n67   -0.24333333 -0.05733333        0.742  0.3006666667\n68   -0.04333333 -0.35733333        0.342 -0.1993333333\n69    0.35666667 -0.85733333        0.742  0.3006666667\n70   -0.24333333 -0.55733333        0.142 -0.0993333333\n71    0.05666667  0.14266667        1.042  0.6006666667\n72    0.25666667 -0.25733333        0.242  0.1006666667\n73    0.45666667 -0.55733333        1.142  0.3006666667",
        "\n74    0.25666667 -0.25733333        0.942  0.0006666667\n75    0.55666667 -0.15733333        0.542  0.1006666667\n76    0.75666667 -0.05733333        0.642  0.2006666667\n77    0.95666667 -0.25733333        1.042  0.2006666667\n78    0.85666667 -0.05733333        1.242  0.5006666667\n79    0.15666667 -0.15733333        0.742  0.3006666667\n80   -0.14333333 -0.45733333       -0.258 -0.1993333333\n81   -0.34333333 -0.65733333        0.042 -0.0993333333\n82   -0.34333333 -0.65733333       -0.058 -0.1993333333\n83   -0.04333333",
        " -0.35733333        0.142  0.0006666667\n84    0.15666667 -0.35733333        1.342  0.4006666667\n85   -0.44333333 -0.05733333        0.742  0.3006666667\n86    0.15666667  0.34266667        0.742  0.4006666667\n87    0.85666667  0.04266667        0.942  0.3006666667\n88    0.45666667 -0.75733333        0.642  0.1006666667\n89   -0.24333333 -0.05733333        0.342  0.1006666667\n90   -0.34333333 -0.55733333        0.242  0.1006666667\n91   -0.34333333 -0.45733333        0.642  0.0006666667\n92    0.25666667 -0.05733333",
        "        0.842  0.2006666667\n93   -0.04333333 -0.45733333        0.242  0.0006666667\n94   -0.84333333 -0.75733333       -0.458 -0.1993333333\n95   -0.24333333 -0.35733333        0.442  0.1006666667\n96   -0.14333333 -0.05733333        0.442  0.0006666667\n97   -0.14333333 -0.15733333        0.442  0.1006666667\n98    0.35666667 -0.15733333        0.542  0.1006666667\n99   -0.74333333 -0.55733333       -0.758 -0.0993333333\n100  -0.14333333 -0.25733333        0.342  0.1006666667\n101   0.45666667  0.24266667        2.242",
        "  1.3006666667\n102  -0.04333333 -0.35733333        1.342  0.7006666667\n103   1.25666667 -0.05733333        2.142  0.9006666667\n104   0.45666667 -0.15733333        1.842  0.6006666667\n105   0.65666667 -0.05733333        2.042  1.0006666667\n106   1.75666667 -0.05733333        2.842  0.9006666667\n107  -0.94333333 -0.55733333        0.742  0.5006666667\n108   1.45666667 -0.15733333        2.542  0.6006666667\n109   0.85666667 -0.55733333        2.042  0.6006666667\n110   1.35666667  0.54266667        2.342  1.3006666667",
        "\n111   0.65666667  0.14266667        1.342  0.8006666667\n112   0.55666667 -0.35733333        1.542  0.7006666667\n113   0.95666667 -0.05733333        1.742  0.9006666667\n114  -0.14333333 -0.55733333        1.242  0.8006666667\n115  -0.04333333 -0.25733333        1.342  1.2006666667\n116   0.55666667  0.14266667        1.542  1.1006666667\n117   0.65666667 -0.05733333        1.742  0.6006666667\n118   1.85666667  0.74266667        2.942  1.0006666667\n119   1.85666667 -0.45733333        3.142  1.1006666667\n120   0.15666667",
        " -0.85733333        1.242  0.3006666667\n121   1.05666667  0.14266667        1.942  1.1006666667\n122  -0.24333333 -0.25733333        1.142  0.8006666667\n123   1.85666667 -0.25733333        2.942  0.8006666667\n124   0.45666667 -0.35733333        1.142  0.6006666667\n125   0.85666667  0.24266667        1.942  0.9006666667\n126   1.35666667  0.14266667        2.242  0.6006666667\n127   0.35666667 -0.25733333        1.042  0.6006666667\n128   0.25666667 -0.05733333        1.142  0.6006666667\n129   0.55666667 -0.25733333",
        "        1.842  0.9006666667\n130   1.35666667 -0.05733333        2.042  0.4006666667\n131   1.55666667 -0.25733333        2.342  0.7006666667\n132   2.05666667  0.74266667        2.642  0.8006666667\n133   0.55666667 -0.25733333        1.842  1.0006666667\n134   0.45666667 -0.25733333        1.342  0.3006666667\n135   0.25666667 -0.45733333        1.842  0.2006666667\n136   1.85666667 -0.05733333        2.342  1.1006666667\n137   0.45666667  0.34266667        1.842  1.2006666667\n138   0.55666667  0.04266667        1.742",
        "  0.6006666667\n139   0.15666667 -0.05733333        1.042  0.6006666667\n140   1.05666667  0.04266667        1.642  0.9006666667\n141   0.85666667  0.04266667        1.842  1.2006666667\n142   1.05666667  0.04266667        1.342  1.1006666667\n143  -0.04333333 -0.35733333        1.342  0.7006666667\n144   0.95666667  0.14266667        2.142  1.1006666667\n145   0.85666667  0.24266667        1.942  1.3006666667\n146   0.85666667 -0.05733333        1.442  1.1006666667\n147   0.45666667 -0.55733333        1.242  0.7006666667",
        "\n148   0.65666667 -0.05733333        1.442  0.8006666667\n149   0.35666667  0.34266667        1.642  1.1006666667\n150   0.05666667 -0.05733333        1.342  0.6006666667\n",
        "> ",
        "download.file(\"https://mdniceczx.oss-cn-beijing.aliyuncs.com/cntrade.R\")",
        "Error in download.file(\"https://mdniceczx.oss-cn-beijing.aliyuncs.com/cntrade.R\") : \n  缺少参数\"destfile\",也没有缺省值\n",
        "> ",
        "download.file(\"https://mdniceczx.oss-cn-beijing.aliyuncs.com/cntrade.R\", \"cntrade.R\")",
        "试开URL’https://mdniceczx.oss-cn-beijing.aliyuncs.com/cntrade.R'\n",
        "Content type 'application/octet-stream'",
        " length 4027 bytes\n",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "=",
        "\n",
        "downloaded 4027 bytes\n\n",
        "> ",
        "?tidyquant::tq_get()",
        "> ",
        "##'   000001 The Shanghai Composite Index.",
        "> ",
        "##'   000300 CSI 300 Index.",
        "> ",
        "##'   399001 Shenzhen Component Index.",
        "> ",
        "##' The leading zeros in each code can be omitted.",
        "> ",
        "##' @param type Specify that the code is a stock code or index code, 'stock' is the default choice.",
        "> ",
        "##' @param ... Other paramter pass to the addTiles. function",
        "> ",
        "##'",
        "> ",
        "##' @example cntrade(1, type = \"index\")",
        "> ",
        "##'",
        "> ",
        "##' @export",
        "> ",
        "cntrade <- function(ticker = \"\",",
        "+ ",
        "                    type = \"stock\") {",
        "+ ",
        "  ticker = as.character(ticker)",
        "+ ",
        "  stopifnot(type %in% c(\"stock\", \"index\"))",
        "+ ",
        "  address = \"http://quotes.money.163.com/service/chddata.html\"",
        "+ ",
        "  if(type == \"index\") {",
        "+ ",
        "    field = \"TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;TURNOVER;VOTURNOVER;VATURNOVER;TCAP;MCAP\"",
        "+ ",
        "  }",
        "+ ",
        "  if(type == \"stock\") {",
        "+ ",
        "    field = \"TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;VOTURNOVER;VATURNOVER\"",
        "+ ",
        "  }",
        "+ ",
        "  start = \"19900101\"",
        "+ ",
        "  end = str_remove_all(as.character(Sys.Date()), \"-\")",
        "+ ",
        "  stopifnot(str_length(ticker) <= 6)",
        "+ ",
        "  while (str_length(ticker) < 6) {",
        "+ ",
        "    ticker = paste0(\"0\", ticker)",
        "+ ",
        "  }",
        "+ ",
        "  if(type == \"stock\") {",
        "+ ",
        "    if(as.numeric(ticker) >= 600000) {",
        "+ ",
        "      url = paste0(address, \"?code=0\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "    if(as.numeric(ticker) < 600000) {",
        "+ ",
        "      url = paste0(address, \"?code=1\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "  }",
        "+ ",
        "",
        "+ ",
        "  if(type == \"index\") {",
        "+ ",
        "    if(as.numeric(ticker) <= 1000) {",
        "+ ",
        "      url = paste0(address, \"?code=0\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "    if(as.numeric(ticker) > 1000) {",
        "+ ",
        "      url = paste0(address, \"?code=1\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "  }",
        "+ ",
        "",
        "+ ",
        "  suppressWarnings({",
        "+ ",
        "    readLines(url) %>%",
        "+ ",
        "      iconv(\"GBK\", \"UTF-8\") %>%",
        "+ ",
        "      read_csv() %>%",
        "+ ",
        "      mutate(股票代码 = str_remove(股票代码, \"'\")) -> df",
        "+ ",
        "  })",
        "+ ",
        "",
        "+ ",
        "  stopifnot(nrow(df) != 0)",
        "+ ",
        "",
        "+ ",
        "  return(df)",
        "+ ",
        "}",
        "> ",
        "cntrade(1, type = \"index\")",
        "Error in str_remove_all(as.character(Sys.Date()), \"-\") : \n  没有\"str_remove_all\"这个函数\n",
        "> ",
        "library(tidyverse)",
        "\u001B[37m─ \u001B[1mAttaching packages\u001B[22m ───────── tidyverse 1.3.0 ─\u001B[39m\n",
        "\u001B[37m\u001B[32m✓\u001B[37m \u001B[34mtibble \u001B[37m 3.0.4     \u001B[32m✓\u001B[37m \u001B[34mpurrr  \u001B[37m 0.3.4\n\u001B[32m✓\u001B[37m \u001B[34mtidyr  \u001B[37m 1.1.2     \u001B[32m✓\u001B[37m \u001B[34mstringr\u001B[37m 1.4.0\n\u001B[32m✓\u001B[37m \u001B[34mreadr  \u001B[37m 1.4.0     \u001B[32m✓\u001B[37m \u001B[34mforcats\u001B[37m 0.5.0\u001B[39m\n",
        "\u001B[37m─ \u001B[1mConflicts\u001B[22m ────────── tidyverse_conflicts() ─\n\u001B[31mx\u001B[37m \u001B[34mstats\u001B[37m::\u001B[32mfilter()\u001B[37m masks \u001B[34mdplyr\u001B[37m::filter()\n\u001B[31mx\u001B[37m \u001B[34mstats\u001B[37m::\u001B[32mlag()\u001B[37m    masks \u001B[34mdplyr\u001B[37m::lag()\u001B[39m\n",
        "> ",
        "##'   000001 The Shanghai Composite Index.",
        "> ",
        "##'   000300 CSI 300 Index.",
        "> ",
        "##'   399001 Shenzhen Component Index.",
        "> ",
        "##' The leading zeros in each code can be omitted.",
        "> ",
        "##' @param type Specify that the code is a stock code or index code, 'stock' is the default choice.",
        "> ",
        "##' @param ... Other paramter pass to the addTiles. function",
        "> ",
        "##'",
        "> ",
        "##' @example cntrade(1, type = \"index\")",
        "> ",
        "##'",
        "> ",
        "##' @export",
        "> ",
        "cntrade <- function(ticker = \"\",",
        "+ ",
        "                    type = \"stock\") {",
        "+ ",
        "  ticker = as.character(ticker)",
        "+ ",
        "  stopifnot(type %in% c(\"stock\", \"index\"))",
        "+ ",
        "  address = \"http://quotes.money.163.com/service/chddata.html\"",
        "+ ",
        "  if(type == \"index\") {",
        "+ ",
        "    field = \"TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;TURNOVER;VOTURNOVER;VATURNOVER;TCAP;MCAP\"",
        "+ ",
        "  }",
        "+ ",
        "  if(type == \"stock\") {",
        "+ ",
        "    field = \"TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;VOTURNOVER;VATURNOVER\"",
        "+ ",
        "  }",
        "+ ",
        "  start = \"19900101\"",
        "+ ",
        "  end = str_remove_all(as.character(Sys.Date()), \"-\")",
        "+ ",
        "  stopifnot(str_length(ticker) <= 6)",
        "+ ",
        "  while (str_length(ticker) < 6) {",
        "+ ",
        "    ticker = paste0(\"0\", ticker)",
        "+ ",
        "  }",
        "+ ",
        "  if(type == \"stock\") {",
        "+ ",
        "    if(as.numeric(ticker) >= 600000) {",
        "+ ",
        "      url = paste0(address, \"?code=0\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "    if(as.numeric(ticker) < 600000) {",
        "+ ",
        "      url = paste0(address, \"?code=1\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "  }",
        "+ ",
        "",
        "+ ",
        "  if(type == \"index\") {",
        "+ ",
        "    if(as.numeric(ticker) <= 1000) {",
        "+ ",
        "      url = paste0(address, \"?code=0\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "    if(as.numeric(ticker) > 1000) {",
        "+ ",
        "      url = paste0(address, \"?code=1\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "  }",
        "+ ",
        "",
        "+ ",
        "  suppressWarnings({",
        "+ ",
        "    readLines(url) %>%",
        "+ ",
        "      iconv(\"GBK\", \"UTF-8\") %>%",
        "+ ",
        "      read_csv() %>%",
        "+ ",
        "      mutate(股票代码 = str_remove(股票代码, \"'\")) -> df",
        "+ ",
        "  })",
        "+ ",
        "",
        "+ ",
        "  stopifnot(nrow(df) != 0)",
        "+ ",
        "",
        "+ ",
        "  return(df)",
        "+ ",
        "}",
        "> ",
        "cntrade(1, type = \"index\")",
        "\u001B[90m# A tibble: 7,330 x 15\u001B[39m\n   日期       股票代码 名称  收盘价 最高价 最低价 开盘价\n   \u001B[3m\u001B[90m<date>\u001B[39m\u001B[23m     \u001B[3m\u001B[90m<chr>\u001B[39m\u001B[23m    \u001B[3m\u001B[90m<chr>\u001B[39m\u001B[23m  \u001B[3m\u001B[90m<dbl>\u001B[39m\u001B[23m  \u001B[3m\u001B[90m<dbl>\u001B[39m\u001B[23m  \u001B[3m\u001B[90m<dbl>\u001B[39m\u001B[23m  \u001B[3m\u001B[90m<dbl>\u001B[39m\u001B[23m\n\u001B[90m 1\u001B[39m 2020-12-14 000001   上证指数…  \u001B[4m3\u001B[24m369.  \u001B[4m3\u001B[24m371.  \u001B[4m3\u001B[24m339.  \u001B[4m3\u001B[24m350.\n\u001B[90m 2\u001B[39m 2020-12-11 000001   上证指数…  \u001B[4m3\u001B[24m347.  \u001B[4m3\u001B[24m383.  \u001B[4m3\u001B[24m325.  \u001B[4m3\u001B[24m381.\n\u001B[90m 3\u001B[39m 2020-12-10 000001   上证指数…  \u001B[4m3\u001B[24m373.  \u001B[4m3\u001B[24m385.  \u001B[4m3\u001B[24m358.  \u001B[4m3\u001B[24m366.\n\u001B[90m 4\u001B[39m 2020-12-09 000001   上证指数…  \u001B[4m3\u001B[24m372.  \u001B[4m3\u001B[24m423.  \u001B[4m3\u001B[24m372.  \u001B[4m3\u001B[24m416.\n\u001B[90m 5\u001B[39m 2020-12-08 000001   上证指数…  \u001B[4m3\u001B[24m410.  \u001B[4m3\u001B[24m429.  \u001B[4m3\u001B[24m403.  \u001B[4m3\u001B[24m418.\n\u001B[90m 6\u001B[39m 2020-12-07 000001   上证指数…  \u001B[4m3\u001B[24m417.  \u001B[4m3\u001B[24m450.  \u001B[4m3\u001B[24m414.  \u001B[4m3\u001B[24m447.\n\u001B[90m 7\u001B[39m 2020-12-04 000001   上证指数…  \u001B[4m3\u001B[24m445.  \u001B[4m3\u001B[24m448.  \u001B[4m3\u001B[24m417.  \u001B[4m3\u001B[24m437.\n\u001B[90m 8\u001B[39m 2020-12-03 000001   上证指数…  \u001B[4m3\u001B[24m442.  \u001B[4m3\u001B[24m452.  \u001B[4m3\u001B[24m429.  \u001B[4m3\u001B[24m449.\n\u001B[90m 9\u001B[39m 2020-12-02 000001   上证指数…  \u001B[4m3\u001B[24m449.  \u001B[4m3\u001B[24m466.  \u001B[4m3\u001B[24m436.  \u001B[4m3\u001B[24m454.\n\u001B[90m10\u001B[39m 2020-12-01 000001   上证指数…  \u001B[4m3\u001B[24m452.  \u001B[4m3\u001B[24m458.  \u001B[4m3\u001B[24m387.  \u001B[4m3\u001B[24m389.\n\u001B[90m# … with 7,320 more rows, and 8 more variables:\u001B[39m\n\u001B[90m#   前收盘 \u001B[3m\u001B[90m<dbl>\u001B[90m\u001B[23m, 涨跌额 \u001B[3m\u001B[90m<dbl>\u001B[90m\u001B[23m, 涨跌幅 \u001B[3m\u001B[90m<dbl>\u001B[90m\u001B[23m,\u001B[39m\n\u001B[90m#   换手率 \u001B[3m\u001B[90m<lgl>\u001B[90m\u001B[23m, 成交量 \u001B[3m\u001B[90m<dbl>\u001B[90m\u001B[23m, 成交金额 \u001B[3m\u001B[90m<dbl>\u001B[90m\u001B[23m,\u001B[39m\n\u001B[90m#   总市值 \u001B[3m\u001B[90m<lgl>\u001B[90m\u001B[23m, 流通市值 \u001B[3m\u001B[90m<lgl>\u001B[90m\u001B[23m\u001B[39m",
        "\n",
        "> ",
        "length(traded_market_value)",
        "错误: 找不到对象'traded_market_value'\n",
        "> ",
        "length(c(\"date\", \"code\", \"name\", \"close\", \"high\", \"low\", \"open\", \"yesterday close\", \"change amount\", \"change percent\", \"turnover\", \"transaction\", \"volume\", \"total market capitalisation\", \"traded market value\"))",
        "[1] 15\n",
        "> ",
        "##'   000001 The Shanghai Composite Index.",
        "> ",
        "##'   000300 CSI 300 Index.",
        "> ",
        "##'   399001 Shenzhen Component Index.",
        "> ",
        "##' The leading zeros in each code can be omitted.",
        "> ",
        "##' @param type Specify that the code is a stock code or index code, 'stock' is the default choice.",
        "> ",
        "##' @param ... Other paramter pass to the addTiles. function",
        "> ",
        "##'",
        "> ",
        "##' @example cntrade(1, type = \"index\")",
        "> ",
        "##'",
        "> ",
        "##' @export",
        "> ",
        "cntrade <- function(ticker = \"\",",
        "+ ",
        "                    type = \"stock\") {",
        "+ ",
        "  ticker = as.character(ticker)",
        "+ ",
        "  stopifnot(type %in% c(\"stock\", \"index\"))",
        "+ ",
        "  address = \"http://quotes.money.163.com/service/chddata.html\"",
        "+ ",
        "  if(type == \"index\") {",
        "+ ",
        "    field = \"TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;TURNOVER;VOTURNOVER;VATURNOVER;TCAP;MCAP\"",
        "+ ",
        "  }",
        "+ ",
        "  if(type == \"stock\") {",
        "+ ",
        "    field = \"TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;VOTURNOVER;VATURNOVER\"",
        "+ ",
        "  }",
        "+ ",
        "  start = \"19900101\"",
        "+ ",
        "  end = str_remove_all(as.character(Sys.Date()), \"-\")",
        "+ ",
        "  stopifnot(str_length(ticker) <= 6)",
        "+ ",
        "  while (str_length(ticker) < 6) {",
        "+ ",
        "    ticker = paste0(\"0\", ticker)",
        "+ ",
        "  }",
        "+ ",
        "  if(type == \"stock\") {",
        "+ ",
        "    if(as.numeric(ticker) >= 600000) {",
        "+ ",
        "      url = paste0(address, \"?code=0\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "    if(as.numeric(ticker) < 600000) {",
        "+ ",
        "      url = paste0(address, \"?code=1\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "  }",
        "+ ",
        "",
        "+ ",
        "  if(type == \"index\") {",
        "+ ",
        "    if(as.numeric(ticker) <= 1000) {",
        "+ ",
        "      url = paste0(address, \"?code=0\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "    if(as.numeric(ticker) > 1000) {",
        "+ ",
        "      url = paste0(address, \"?code=1\", ticker,",
        "+ ",
        "                   \"&start=\", start, \"&end=\", \"&fields=\", field)",
        "+ ",
        "    }",
        "+ ",
        "  }",
        "+ ",
        "",
        "+ ",
        "  suppressWarnings({",
        "+ ",
        "    readLines(url) %>%",
        "+ ",
        "      iconv(\"GBK\", \"UTF-8\") %>%",
        "+ ",
        "      read_csv() %>%",
        "+ ",
        "      set_names(c(\"date\", \"code\", \"name\", \"close\", \"high\", \"low\", \"open\", \"yesterday close\", \"change amount\", \"change percent\", \"turnover\", \"transaction\", \"volume\", \"total market capitalisation\", \"traded market value\")) %>%",
        "+ ",
        "      mutate(name = str_remove(name, \"'\")) -> df",
        "+ ",
        "  })",
        "+ ",
        "",
        "+ ",
        "  stopifnot(nrow(df) != 0)",
        "+ ",
        "",
        "+ ",
        "  return(df)",
        "+ ",
        "}",
        "\nRestarting R session...\n\n",
        "错误: C stack usage  7969424 is too close to the limit\n",
        "Error saving session (options): R code execution error\n"
    ]
}