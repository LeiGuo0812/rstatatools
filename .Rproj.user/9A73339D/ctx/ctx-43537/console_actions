{
    "type": [
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        3
    ],
    "data": [
        "> ",
        "rstatatools::cntrade(5, type = \"index\")",
        "\u001B[38;5;246m# A tibble: 6,555 x 15\u001B[39m\n   date       code  name  close  high   low  open\n   \u001B[3m\u001B[38;5;246m<date>\u001B[39m\u001B[23m     \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m\n\u001B[38;5;250m 1\u001B[39m 2020-12-16 0000… 商业指数… \u001B[4m3\u001B[24m194. \u001B[4m3\u001B[24m214. \u001B[4m3\u001B[24m190. \u001B[4m3\u001B[24m210.\n\u001B[38;5;250m 2\u001B[39m 2020-12-15 0000… 商业指数… \u001B[4m3\u001B[24m213. \u001B[4m3\u001B[24m223. \u001B[4m3\u001B[24m192. \u001B[4m3\u001B[24m215.\n\u001B[38;5;250m 3\u001B[39m 2020-12-14 0000… 商业指数… \u001B[4m3\u001B[24m225. \u001B[4m3\u001B[24m231. \u001B[4m3\u001B[24m207. \u001B[4m3\u001B[24m220.\n\u001B[38;5;250m 4\u001B[39m 2020-12-11 0000… 商业指数… \u001B[4m3\u001B[24m218. \u001B[4m3\u001B[24m247. \u001B[4m3\u001B[24m199. \u001B[4m3\u001B[24m224.\n\u001B[38;5;250m 5\u001B[39m 2020-12-10 0000… 商业指数… \u001B[4m3\u001B[24m228. \u001B[4m3\u001B[24m237. \u001B[4m3\u001B[24m204. \u001B[4m3\u001B[24m212.\n\u001B[38;5;250m 6\u001B[39m 2020-12-09 0000… 商业指数… \u001B[4m3\u001B[24m222. \u001B[4m3\u001B[24m296. \u001B[4m3\u001B[24m219. \u001B[4m3\u001B[24m289.\n\u001B[38;5;250m 7\u001B[39m 2020-12-08 0000… 商业指数… \u001B[4m3\u001B[24m284. \u001B[4m3\u001B[24m312. \u001B[4m3\u001B[24m278. \u001B[4m3\u001B[24m296.\n\u001B[38;5;250m 8\u001B[39m 2020-12-07 0000… 商业指数… \u001B[4m3\u001B[24m301. \u001B[4m3\u001B[24m339. \u001B[4m3\u001B[24m296. \u001B[4m3\u001B[24m331.\n\u001B[38;5;250m 9\u001B[39m 2020-12-04 0000… 商业指数… \u001B[4m3\u001B[24m331. \u001B[4m3\u001B[24m342. \u001B[4m3\u001B[24m308. \u001B[4m3\u001B[24m342.\n\u001B[38;5;250m10\u001B[39m 2020-12-03 0000… 商业指数… \u001B[4m3\u001B[24m361. \u001B[4m3\u001B[24m380. \u001B[4m3\u001B[24m329. \u001B[4m3\u001B[24m341.\n\u001B[38;5;246m# … with 6,545 more rows, and 8 more variables:\u001B[39m\n\u001B[38;5;246m#   `yesterday close` \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m, `change\u001B[39m\n\u001B[38;5;246m#   amount` \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m, `change percent` \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m,\u001B[39m\n\u001B[38;5;246m#   turnover \u001B[3m\u001B[38;5;246m<lgl>\u001B[38;5;246m\u001B[23m, transaction \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m,\u001B[39m\n\u001B[38;5;246m#   volume \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m, `total market\u001B[39m\n\u001B[38;5;246m#   capitalisation` \u001B[3m\u001B[38;5;246m<lgl>\u001B[38;5;246m\u001B[23m, `traded market\u001B[39m\n\u001B[38;5;246m#   value` \u001B[3m\u001B[38;5;246m<lgl>\u001B[38;5;246m\u001B[23m\u001B[39m",
        "\n",
        "> ",
        "rstatatools::plotstock(1, \"stock\")",
        "> ",
        "?rstatatools::gdmap()",
        "> ",
        "leaflet() %>% gdmap()",
        "Error in leaflet() : 没有\"leaflet\"这个函数\n",
        "> ",
        "library(leaflet)",
        "> ",
        "library(rstatatools)",
        "> ",
        "if(interactive()){",
        "+ ",
        "    leaflet() %>% gdmap()",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "leaflet() %>% gdmap()",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/gq2013_sample.rds')",
        "错误: Input must be a vector, not a `sfc_POINT/sfc` object.\n\u001B[90mRun `rlang::last_error()` to see where the error occurred.\u001B[39m\n",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/gq2013_sample.rds')",
        "错误: Input must be a vector, not a `sfc_POINT/sfc` object.\n\u001B[90mRun `rlang::last_error()` to see where the error occurred.\u001B[39m\n",
        "> ",
        "library(sf)",
        "Linking to GEOS 3.8.1, GDAL 3.1.2, PROJ 7.1.0\n",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/gq2013_sample.rds')",
        "Simple feature collection with 100 features and 13 fields\ngeometry type:  POINT\ndimension:      XY\nbbox:           xmin: 116.137 ymin: 39.7478 xmax: 116.8398 ymax: 40.21941\ngeographic CRS: WGS 84\n\u001B[38;5;246m# A tibble: 100 x 14\u001B[39m\n   组织机构代码 企业名称  年份 县代码 县    省代码 省   \n   \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m        \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m    \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m  \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m  \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m\n\u001B[38;5;250m 1\u001B[39m 102358628    北京企星冶金机…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 2\u001B[39m 554802750    北京博瑞吉墙纸…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 3\u001B[39m 79673958X    北京巴赫曼成套…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 4\u001B[39m 102170983    北京市建国伟业…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 5\u001B[39m 802766796    北京市瑞华塑料…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 6\u001B[39m 696327326    北京普凡防护科…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 7\u001B[39m 60006426X    北京普莱克斯化…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 8\u001B[39m 678760206    北京景隆重工机…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m 9\u001B[39m 768453752    北京永正电器设…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;250m10\u001B[39m 775474279    北京燕山盛世达…  \u001B[4m2\u001B[24m013 \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m111 房山区… \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m\u001B[4m0\u001B[24m000 北京市…\n\u001B[38;5;246m# … with 90 more rows, and 7 more variables: 市代码 \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m,\u001B[39m\n\u001B[38;5;246m#   市 \u001B[3m\u001B[38;5;246m<chr>\u001B[38;5;246m\u001B[23m, 是否和省界接触 \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m, 是否和海岸线接触 \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m,\u001B[39m\n\u001B[38;5;246m#   是否和陆地国界线接触 \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m, 是否为内部县 \u001B[3m\u001B[38;5;246m<dbl>\u001B[38;5;246m\u001B[23m,\u001B[39m\n\u001B[38;5;246m#   geometry \u001B[3m\u001B[38;5;246m<POINT [°]>\u001B[38;5;246m\u001B[23m\u001B[39m",
        "\n",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/2008~2013年工企数据库地理位置与区县分布.rds') %>% ",
        "+ ",
        "  select(code = 组织机构代码) %>% ",
        "+ ",
        "  slice(1:10000) -> locsf",
        "\n",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/2008~2013年工企数据库地理位置与区县分布.rds') %>% ",
        "+ ",
        "  dplyr::filter(年份 == 2013) %>% ",
        "+ ",
        "  select(code = 组织机构代码) %>% ",
        "+ ",
        "  slice(1:10000) -> locsf",
        "> ",
        "locsf",
        "\u001B[38;5;246m# A tibble: 10,000 x 1\u001B[39m\n   code     \n   \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m    \n\u001B[38;5;250m 1\u001B[39m 101517615\n\u001B[38;5;250m 2\u001B[39m 101236477\n\u001B[38;5;250m 3\u001B[39m 101509228\n\u001B[38;5;250m 4\u001B[39m 771965951\n\u001B[38;5;250m 5\u001B[39m 102990252\n\u001B[38;5;250m 6\u001B[39m 101524129\n\u001B[38;5;250m 7\u001B[39m 687647731\n\u001B[38;5;250m 8\u001B[39m 101489810\n\u001B[38;5;250m 9\u001B[39m 700124135\n\u001B[38;5;250m10\u001B[39m 753323445\n\u001B[38;5;246m# … with 9,990 more rows\u001B[39m\n",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/2008~2013年工企数据库地理位置与区县分布.rds') %>%",
        "+ ",
        "  dplyr::filter(年份 == 2013) %>%",
        "+ ",
        "  st_as_sf(coords = c(\"经度\", \"纬度\"), crs = 4326) %>%",
        "+ ",
        "  select(code = 组织机构代码) %>%",
        "+ ",
        "  slice(1:10000) -> locsf",
        "> ",
        "locsf",
        "Simple feature collection with 10000 features and 1 field\ngeometry type:  POINT\ndimension:      XY\nbbox:           xmin: 107.0643 ymin: 24.48248 xmax: 131.631 ymax: 47.79975\ngeographic CRS: WGS 84\n\u001B[38;5;246m# A tibble: 10,000 x 2\u001B[39m\n   code                 geometry\n   \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m             \u001B[3m\u001B[38;5;246m<POINT [°]>\u001B[39m\u001B[23m\n\u001B[38;5;250m 1\u001B[39m 101517615 (116.4101 39.92695)\n\u001B[38;5;250m 2\u001B[39m 101236477 (116.4101 39.92695)\n\u001B[38;5;250m 3\u001B[39m 101509228 (116.4101 39.92695)\n\u001B[38;5;250m 4\u001B[39m 771965951 (116.4101 39.92695)\n\u001B[38;5;250m 5\u001B[39m 102990252 (116.4101 39.92695)\n\u001B[38;5;250m 6\u001B[39m 101524129 (116.4101 39.92695)\n\u001B[38;5;250m 7\u001B[39m 687647731 (116.4101 39.92695)\n\u001B[38;5;250m 8\u001B[39m 101489810 (116.4101 39.92695)\n\u001B[38;5;250m 9\u001B[39m 700124135 (116.4101 39.92695)\n\u001B[38;5;250m10\u001B[39m 753323445 (116.4101 39.92695)\n\u001B[38;5;246m# … with 9,990 more rows\u001B[39m",
        "\n",
        "> ",
        "leaflet() %>% ",
        "+ ",
        "  tdtmap() %>% ",
        "+ ",
        "  leafem::addFeatures(locsf)",
        "> ",
        "leaflet() %>% ",
        "+ ",
        "  tdtmap() %>% ",
        "+ ",
        "  leafem::addFeatures(locsf, weight = 0.01, radius = 0.01)",
        "> ",
        "leaflet() %>% ",
        "+ ",
        "  tdtmap() %>% ",
        "+ ",
        "  leafem::addFeatures(locsf, weight = 0.1, radius = 0.1)",
        "> ",
        "read_rds('/Users/czxa/Desktop/文件/工企分省市县/2008~2013年工企数据库地理位置与区县分布.rds') %>%",
        "+ ",
        "  dplyr::filter(年份 == 2013) %>%",
        "+ ",
        "  st_as_sf(coords = c(\"经度\", \"纬度\"), crs = 4326) %>%",
        "+ ",
        "  select(code = 组织机构代码) %>%",
        "+ ",
        "  slice_sample(n = 10000) -> locsf",
        "> ",
        "leaflet() %>%",
        "+ ",
        "  tdtmap() %>%",
        "+ ",
        "  leafem::addFeatures(locsf, weight = 0.1, radius = 0.1)",
        "> ",
        "usethis::use_data(locsf)",
        "\u001B[32m✓\u001B[39m Setting active project to \u001B[34m'/Users/czxa/Documents/我的项目/rstatatools'\u001B[39m\n\u001B[32m✓\u001B[39m Adding \u001B[34m'R'\u001B[39m to \u001B[32mDepends\u001B[39m field in DESCRIPTION\n\u001B[32m✓\u001B[39m Creating \u001B[34m'data/'\u001B[39m\n\u001B[32m✓\u001B[39m Saving \u001B[34m'locsf'\u001B[39m to \u001B[34m'data/locsf.rda'\u001B[39m\n\u001B[31m●\u001B[39m Document your data (see \u001B[34m'https://r-pkgs.org/data.html'\u001B[39m)\n\nRestarting R session...\n\n",
        "错误: C stack usage  7969424 is too close to the limit\n",
        "Error saving session (options): R code execution error\n"
    ]
}